<div class="panel"  role="tabpanel" >

    <header class="view_header">
        <div class="header_content">
            <h1>
                <span class="simple_content">Today</span>
                <small>{{todayDate | date: 'EEE dd MMM'}}</small>
            </h1>
            <div class="header_actions">
                <button type="button" class="sort_button">
                    <span class="icon_sort">
                        <i class ="fa fa-sort"></i>
                    </span>
                    <span class="action_label">Sort</span>
                </button>
            </div>
        </div>
    </header>

    <div class="tasks_content">
        <ul class="task_list_items">

            <app-task-daily-list [tasks]="tasks" (closeAddForm)="closeAddTaskForm()"></app-task-daily-list>

            <ng-container *ngIf="overdue.length>0">
                <h5>Overdue</h5>
                <app-subtask-list [taskList]='overdue'></app-subtask-list>
            </ng-container>

            <li>
                <button type="button" class="plus_add_button" *ngIf="!showAddTaskForm" (click)="openAddTaskForm()">
                    <span class="icon_add">
                        <i class="fa fa-plus"></i>
                    </span>
                    Add task
                </button>

                <app-task-form *ngIf="showAddTaskForm" (closeEvent)="closeAddTaskForm()"></app-task-form>

            </li>

        </ul>
    </div>

</div>

<div class="ist-menu context" [class.hidden-context-menu]="!showContextTaskMenu" [ngStyle]="{'left.px': taskContextMenuX, 'top.px': taskContextMenuY}">
	<ul class="context-menu-project" #taskContext>
        <li class="context-menu-project-item">
			<button (click)="openEditTaskFromContextMenu()">
				<span class="menu_icon">
					<i class="fa fa-edit"></i>
				</span>
				<div class="menu_label">Edit task</div>
			</button>
		</li>
        <li class="context-menu-project-item">
			<button (click)=toProject()>
				<span class="menu_icon">
					<i class="fa fa-list"></i>
				</span>
				<div class="menu_label">Go to project</div>
			</button>
		</li>
        <li class="context-menu-project-item">
			<button (click)="openSelectProjectModalFormContextMenu()">
				<span class="menu_icon">
					<i class="fa fa-arrow-right"></i>
				</span>
				<div class="menu_label">Move to project</div>
			</button>
		</li>
        <li class="context-menu-project-item">
			<button (click)="openSelectDateModalFormContextMenu()">
				<span class="menu_icon">
					<i class="fa fa-calendar-minus-o"></i>
				</span>
				<div class="menu_label">Schedule</div>
			</button>
		</li>
        <li class="context-menu-project-item">
			<button (click)="openSelectPriorityModalFormContextMenu()">
				<span class="menu_icon">
					<i class="fa fa-flag-o"></i>
				</span>
				<div class="menu_label">Priority</div>
			</button>
		</li>
        <li class="context-menu-project-item">
			<button >
				<span class="menu_icon">
					<i class="fa fa-clone"></i>
				</span>
				<div class="menu_label">Duplicate</div>
			</button>
		</li>
        <li class="context-menu-project-item">
			<button (click)=askForDelete()>
				<span class="menu_icon">
					<i class="fa fa-trash-o"></i>
				</span>
				<div class="menu_label">Delete task</div>
			</button>
		</li>
	</ul>
</div>

<app-date-dialog *ngIf="showSelectDateModal" [taskDate]="dateForDateModal" (closeEvent)="closeSelectDateModal($event)" (cancelEvent)="cancelDateSelection()"></app-date-dialog>
<app-project-choice-dialog *ngIf="showSelectProjectModal" [project]="projectForProjectModal" (closeEvent)="closeSelectProjectModal($event)" (cancelEvent)="cancelProjectSelection()"></app-project-choice-dialog>
<app-priority-modal *ngIf="showSelectPriorityModal" [priority]="priorityForPriorityModal" (closeEvent)="closeSelectPriorityModal($event)" (cancelEvent)="cancelPrioritySelection()"></app-priority-modal>